function engridLoaderGetParameter(e,r=window.location.href){e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(r);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function engridLoaderLog(e,r,n){if("console"===engrid_loader_log){var d=" *** ENGRID LOADER: "+e+" ",i="     "+r,s=void 0!==n?"     ["+n+"]":"",t="";String.prototype.padEnd&&(d=d.padEnd(200," "),i=i.padEnd(200," "),s=s.padEnd(200," "),t=t.padEnd(199," ")),window.MSInputMethodContext&&document.documentMode?console.log(d+"\n"+i+"\n"+s+"\n"+t):console.log("%c "+t+"\n"+d+"\n"+i+"\n"+s+"\n"+t,engrid_loader_console_log_style)}}function engridLoaderOption(e,r){var n=r,d=engridLoaderGetParameter("engrid-"+e);if(d)engridLoaderLog("engridLoaderOption","Loaded "+e+" from query string.",n=d);else if(window.engrid_loader&&window.engrid_loader.hasOwnProperty(e))engridLoaderLog("engridLoaderOption","Loaded "+e+" from configuration object.",n=window.engrid_loader[e]);else{var i=document.querySelector("script[data-engrid-loader-js]");i&&i.hasAttribute("data-"+e)?engridLoaderLog("engridLoaderOption","Loaded "+e+" from data attribute.",n=i.getAttribute("data-"+e)):engridLoaderLog("engridLoaderOption","Loaded "+e+" from default.",n)}return n}function engridLoaderInsertCSS(e){if(engridLoaderValidateURL(e)){var r=document.querySelector("link[data-engrid-css]");r&&(r.disabled=!0,engridLoaderLog("engridLoaderInsertCSS","Disabled existing engrid CSS."));var n=document.getElementsByTagName("head")[0],d=document.createElement("link");d.id="engrid-css-replacement",d.rel="stylesheet",d.type="text/css",d.href=e,d.media="all",n.appendChild(d),engridLoaderLog("engridLoaderInsertCSS","Appended CSS: "+e)}}function engridLoaderInsertJS(e){if(engridLoaderValidateURL(e)){var r=document.createElement("script");r.type="text/javascript",r.src=e,document.querySelector("body").appendChild(r),engridLoaderLog("engridLoaderInsertJS","Appended script: "+e)}}function engridLoaderValidateURL(e){var r=e.match(/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i),n=r&&r[1];if(n.match(/^cdn\.jsdelivr\.net$/i)){var d=e.indexOf("/gh/")+4,i=e.indexOf("/",d),s=e.substr(d,i-d);return-1!==["4site-interactive-studios"].indexOf(s)||(engridLoaderLog("engridLoaderValidateDomain","Repo owner validation failed: "+e,s),!1)}for(var t=!1,o=[/^apps\.4sitestudios\.com$/i,/.*\.ssl\.cf5\.rackcdn\.com$/i,/.*\.test$/i],a=0;a<o.length;a++)if(r=n.match(o[a])){t=!0;break}return t||engridLoaderLog("engridLoaderValidateDomain","Domain validation failed: "+e,n),t}var engrid_loader_console_log_style=engridLoaderOption("log-style","background: #381D2A; color: #ffffff; font-weight: 400; font-size: 14px; padding: 1px; font-family: monospace;"),engrid_loader_log="true"==engridLoaderGetParameter("debug")?"console":engridLoaderOption("log"),engrid_repo=engridLoaderOption("repo-name"),engrid_repo_owner=engridLoaderOption("repo-owner"),engrid_assets=engridLoaderOption("assets"),engrid_js_url="",engrid_css_url="",engrid_en_assets_url=engridLoaderOption("en-assets-url");if("/"===engrid_en_assets_url.charAt(engrid_en_assets_url.length-1)&&(engrid_en_assets_url=engrid_en_assets_url.slice(0,-1)),"local"===engrid_assets)engrid_js_url="https://"+engrid_repo+".test/dist/engrid.js",engrid_css_url="https://"+engrid_repo+".test/dist/engrid.css";else if("flush"===engrid_assets&&engrid_en_assets_url){var timestamp=Date.now();engrid_js_url=engrid_en_assets_url+"/engrid.min.js?flush="+timestamp,engrid_css_url=engrid_en_assets_url+"/engrid.min.css?flush="+timestamp}else engrid_assets&&"flush"!==engrid_assets?(engrid_js_url="https://cdn.jsdelivr.net/gh/"+engrid_repo_owner+"/"+engrid_repo+"@"+engrid_assets+"/dist/engrid.js",engrid_css_url="https://cdn.jsdelivr.net/gh/"+engrid_repo_owner+"/"+engrid_repo+"@"+engrid_assets+"/dist/engrid.css"):(engrid_js_url||(engrid_js_url=engrid_en_assets_url?engrid_en_assets_url+"/engrid.min.js":"https://cdn.jsdelivr.net/gh/"+engrid_repo_owner+"/"+engrid_repo+"@main/dist/engrid.js"),engrid_css_url||document.querySelector("link[data-engrid-css]")||(engrid_css_url=engrid_en_assets_url?engrid_en_assets_url+"/engrid.min.css":"https://cdn.jsdelivr.net/gh/"+engrid_repo_owner+"/"+engrid_repo+"@main/dist/engrid.css"));engridLoaderInsertJS(engrid_js_url),engrid_css_url&&engridLoaderInsertCSS(engrid_css_url);
